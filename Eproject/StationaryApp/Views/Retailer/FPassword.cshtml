@{
    Layout = "";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta name="description" content="POS - Bootstrap Admin Template">
    <meta name="keywords" content="admin, estimates, bootstrap, business, corporate, creative, invoice, html5, responsive, Projects">
    <meta name="author" content="Dreamguys - Bootstrap Admin Template">
    <meta name="robots" content="noindex, nofollow">
    <title>Forgot Password - Stationary Management System</title>

    <link rel="shortcut icon" type="image/x-icon" href="~/admin/assets/img/favicon.jpg">
    <link rel="stylesheet" href="~/admin/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/admin/assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="~/admin/assets/plugins/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="~/admin/assets/css/style.css">
</head>

<body class="account-page">

    <div class="page-wrapper">
        <div class="content">
            <div class="page-header">
                <div class="page-title">
                    <h4>Forgot Password</h4>
                    <h6>Enter your email to retrieve your password</h6>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <form method="post">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" name="email" id="email" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-submit">Retrieve Password</button>
                            <a asp-controller="Retailer" asp-action="Signin" class="btn btn-submit">Sign In</a>
                        </div>
                    </form>

                    <!-- Display error message if email is incorrect -->
                    @if (TempData["Error"] != null)
                    {
                        <div class="alert alert-danger">
                            @TempData["Error"]
                        </div>
                    }

                    <!-- Modal for showing the password -->
                    @if (TempData["PasswordPopup"] != null)
                    {
                        <div class="modal fade" id="passwordModal" tabindex="-1" role="dialog" aria-labelledby="passwordModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <!-- Modal Header -->
                                    <div class="modal-header bg-warning text-white">
                                        <h5 class="modal-title" id="passwordModalLabel">Your Password</h5>
                                        <!-- Close Button in Header -->
                                        @*  <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                    </button> *@
                                    </div>
                                    <!-- Modal Body -->
                                    <div class="modal-body">
                                        <p class="text-center">@TempData["PasswordPopup"]</p>
                                    </div>
                                    <!-- Modal Footer -->
                                    <div class="modal-footer">
                                        <!-- Close Button in Footer -->
                                        @* <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button> *@
                                    </div>
                                </div>
                            </div>
                        </div>


                    }
                </div>
            </div>
        </div>
    </div>

    <!-- Ensure jQuery is loaded first -->
    <script src="~/admin/assets/js/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap Bundle includes Popper -->
    <script src="~/admin/assets/js/bootstrap.bundle.min.js"></script>
    <script src="~/admin/assets/js/feather.min.js"></script>
    <script src="~/admin/assets/js/script.js"></script>

    <!-- This triggers the modal after the page is fully loaded -->
    <script>
        $(window).on('load', function () {
            // Check if the modal should be shown
            if ($('#passwordModal').length) {
                $('#passwordModal').modal('show'); // Show the modal after page load
            }
        });

    </script>

</body>
</html>

